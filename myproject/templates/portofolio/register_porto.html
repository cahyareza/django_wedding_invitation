{% extends "base.html" %}
{% load i18n static %}

{% block isi %}

    {% for message in messages %}
        {% if message.tags == 'success' %}
            <div class="notification has-background-danger-light has-text-centered"> {{ message }}
            </div>
        {% endif %}
    {% endfor %}

  <form method="POST" enctype="multipart/form-data" novalidate>
    {% csrf_token %}
    <div class="columns">
        <div class="column
            is-12-mobile
            is-three-fifths-tablet is-offset-one-fifth-tablet
            is-half-desktop is-offset-one-quarter-desktop"
        >
            <div class="card p-5 m-1 mt-5">
              {% block update %}
              {% endblock update %}

              <!--  Buttons  -->
              {% block buttons %}
              <button id="submit" type="submit" class="button is-info p-2 mt-1">Submit</button>
              <a href="{% url 'portofolio:register' %}" class="button is-dark p-2 mt-1">Reset</a>
              <a href="/" class="button is-dark-light p-2 mt-1">Cancel</a>
              {% endblock buttons %}

            </div>
        </div>
    </div>
  </form>
{% endblock %}

{% block script %}
<script>
    <!--------------- Formset1--------------->
    const addMoreBtn = document.getElementById('add-more')
    const totalNewForms = document.getElementById('id_invite-TOTAL_FORMS')

    if (addMoreBtn) {
        addMoreBtn.addEventListener('click', add_new_form)
    }

    function add_new_form(event) {
        if (event) {
            event.preventDefault()
        }
        const currentIngredientForms = document.getElementsByClassName('ingredient-form')
        const currentFormCount = currentIngredientForms.length // + 1
        console.log(currentIngredientForms.length)

        const formCopyTarget = document.getElementById('ingredient-form-list')
        const copyEmptyFormEl = document.getElementById('empty-form').cloneNode(true)
        copyEmptyFormEl.setAttribute('class', 'ingredient-form')
        copyEmptyFormEl.setAttribute('id', `invite-${currentFormCount}`)
        const regex = new RegExp('__prefix__', 'g')
        copyEmptyFormEl.innerHTML = copyEmptyFormEl.innerHTML.replace(regex, currentFormCount)
        totalNewForms.setAttribute('value', currentFormCount + 1)
        // now add new form element to our html form
        formCopyTarget.append(copyEmptyFormEl)
    }

    <!--------------- Formset2--------------->

    const addMoreBtn2 = document.getElementById('add-more2')
    const totalNewForms2 = document.getElementById('id_dompet-TOTAL_FORMS')

    if (addMoreBtn2) {
        addMoreBtn2.addEventListener('click', add_new_form2);
    };

    function add_new_form2(event) {
        if (event) {
            event.preventDefault()
        }
        const currentIngredientForms2 = document.getElementsByClassName('ingredient-form2')
        const currentFormCount2 = currentIngredientForms2.length // + 1
        console.log(currentIngredientForms2.length)

        const formCopyTarget2 = document.getElementById('ingredient-form-list2')
        const copyEmptyFormEl2 = document.getElementById('empty-form2').cloneNode(true)
        copyEmptyFormEl2.setAttribute('class', 'ingredient-form2')
        copyEmptyFormEl2.setAttribute('id', `dompet-${currentFormCount2}`)
        const regex = new RegExp('__prefix__', 'g')
        copyEmptyFormEl2.innerHTML = copyEmptyFormEl2.innerHTML.replace(regex, currentFormCount2)
        totalNewForms2.setAttribute('value', currentFormCount2 + 1)
        // now add new form element to our html form
        formCopyTarget2.append(copyEmptyFormEl2)
    }

    <!--------------- Formset3--------------->

    const addMoreBtn3 = document.getElementById('add-more3')
    const totalNewForms3 = document.getElementById('id_multiimage-TOTAL_FORMS')

    if (addMoreBtn3) {
        addMoreBtn3.addEventListener('click', add_new_form3)
    }

    function add_new_form3(event) {
        if (event) {
            event.preventDefault()
        }
        const currentIngredientForms3 = document.getElementsByClassName('ingredient-form3')
        const currentFormCount3 = currentIngredientForms3.length // + 1
        console.log(currentIngredientForms3.length)

        if (currentFormCount3 <= 9) {
            const formCopyTarget3 = document.getElementById('ingredient-form-list3')
            const copyEmptyFormEl3 = document.getElementById('empty-form3').cloneNode(true)
            copyEmptyFormEl3.setAttribute('class', 'ingredient-form3')
            copyEmptyFormEl3.setAttribute('id', `multiimage-${currentFormCount3}`)
            const regex = new RegExp('__prefix__', 'g')
            copyEmptyFormEl3.innerHTML = copyEmptyFormEl3.innerHTML.replace(regex, currentFormCount3)
            totalNewForms3.setAttribute('value', currentFormCount3 + 1)
            // now add new form element to our html form
            formCopyTarget3.append(copyEmptyFormEl3)
        }
    }

    <!--------------- Formset4--------------->

    const addMoreBtn4 = document.getElementById('add-more4')
    const totalNewForms4 = document.getElementById('id_story-TOTAL_FORMS')

    if (addMoreBtn4) {
        addMoreBtn4.addEventListener('click', add_new_form4)
    }

    function add_new_form4(event) {
        if (event) {
            event.preventDefault()
        }
        const currentIngredientForms4 = document.getElementsByClassName('ingredient-form4')
        const currentFormCount4 = currentIngredientForms4.length // + 1
        console.log(currentIngredientForms4.length)

        const formCopyTarget4 = document.getElementById('ingredient-form-list4')
        const copyEmptyFormEl4 = document.getElementById('empty-form4').cloneNode(true)
        copyEmptyFormEl4.setAttribute('class', 'ingredient-form4')
        copyEmptyFormEl4.setAttribute('id', `story-${currentFormCount4}`)
        const regex = new RegExp('__prefix__', 'g')
        copyEmptyFormEl4.innerHTML = copyEmptyFormEl4.innerHTML.replace(regex, currentFormCount4)
        totalNewForms4.setAttribute('value', currentFormCount4 + 1)
        // now add new form element to our html form
        formCopyTarget4.append(copyEmptyFormEl4)
    }

    <!--------------- Formset5--------------->

    const addMoreBtn5 = document.getElementById('add-more5')
    const totalNewForms5 = document.getElementById('id_multiimage2-TOTAL_FORMS')

    if (addMoreBtn5) {
        addMoreBtn5.addEventListener('click', add_new_form5)
    }

    function add_new_form5(event) {
        if (event) {
            event.preventDefault()
        }
        const currentIngredientForms5 = document.getElementsByClassName('ingredient-form5')
        const currentFormCount5 = currentIngredientForms5.length // + 1
        console.log(currentIngredientForms5.length)

        if (currentFormCount5 <= 19) {
            const formCopyTarget5 = document.getElementById('ingredient-form-list5')
            const copyEmptyFormEl5 = document.getElementById('empty-form5').cloneNode(true)
            copyEmptyFormEl5.setAttribute('class', 'ingredient-form5')
            copyEmptyFormEl5.setAttribute('id', `multiimage2-${currentFormCount5}`)
            const regex = new RegExp('__prefix__', 'g')
            copyEmptyFormEl5.innerHTML = copyEmptyFormEl5.innerHTML.replace(regex, currentFormCount5)
            totalNewForms5.setAttribute('value', currentFormCount5 + 1)
            // now add new form element to our html form
            formCopyTarget5.append(copyEmptyFormEl5)
        }
    }

    <!--------------- Formset6--------------->

    const addMoreBtn6 = document.getElementById('add-more6')
    const totalNewForms6 = document.getElementById('id_acara-TOTAL_FORMS')

    if (addMoreBtn6) {
        addMoreBtn6.addEventListener('click', add_new_form6)
    }

    function add_new_form6(event) {
        if (event) {
            event.preventDefault()
        }
        const currentIngredientForms6 = document.getElementsByClassName('ingredient-form6')
        const currentFormCount6 = currentIngredientForms6.length // + 1
        console.log(currentIngredientForms6.length)

        if (currentFormCount6 <= 2) {
            const formCopyTarget6 = document.getElementById('ingredient-form-list6')
            const copyEmptyFormEl6 = document.getElementById('empty-form6').cloneNode(true)
            copyEmptyFormEl6.setAttribute('class', 'ingredient-form6')
            copyEmptyFormEl6.setAttribute('id', `acara-${currentFormCount6}`)
            const regex = new RegExp('__prefix__', 'g')
            copyEmptyFormEl6.innerHTML = copyEmptyFormEl6.innerHTML.replace(regex, currentFormCount6)
            totalNewForms6.setAttribute('value', currentFormCount6 + 1)
            // now add new form element to our html form
            formCopyTarget6.append(copyEmptyFormEl6)
        }
    }
</script>
{% endblock %}